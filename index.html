<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=1024, user-scalable=no">

	<title>Android OpenCV PPT</title>
	
	<!-- Required stylesheet -->
	<link rel="stylesheet" href="core/deck.core.css">
	
	<!-- Extension CSS files go here. Remove or add as needed. -->
	<link rel="stylesheet" href="extensions/goto/deck.goto.css">
	<link rel="stylesheet" href="extensions/menu/deck.menu.css">
	<link rel="stylesheet" href="extensions/navigation/deck.navigation.css">
	<link rel="stylesheet" href="extensions/status/deck.status.css">
	<link rel="stylesheet" href="extensions/hash/deck.hash.css">
	<link rel="stylesheet" href="extensions/scale/deck.scale.css">
	
	<link rel="stylesheet" href="extensions/highlight.js/styles/xcode.css">
	<script src="extensions/highlight.js/highlight.pack.js"></script>

	<!-- Style theme. More available in /themes/style/ or create your own. -->
	<link rel="stylesheet" href="themes/style/web-2.0.css">
	
	<!-- Transition theme. More available in /themes/transition/ or create your own. -->
	<link rel="stylesheet" href="themes/transition/horizontal-slide.css">
	
	<!-- Required Modernizr file -->
	<script src="modernizr.custom.js"></script>
</head>
<body class="deck-container">

<!-- Begin slides. Just make elements with a class of slide. -->

<section class="slide">
	<div>
		<h1 style="color: rgb(0, 0, 0);font-weight: 200;text-shadow: 3px 3px 3px rgba(0, 0, 0, 0.2);">
		OpenCV Workshop
		</h1></br>
		<h2 style="text-shadow: 1px 1px 1px rgb(0, 0, 0);">
		Droids, anyone?</br>
		</h2>
		
		<img src="img/droid.png" alt="" style="margin-top:550px" class="droid_png">
	</div>
</section>



<section class="slide">
	<h2>Heya</h2>
	  <h3 style="font-style: normal;"><pre>Wingston Sharon |  @wingston | github.com/Wingie</pre></h3>	
	  <ul class="nopoint">
	     <li class="slide text">
	     	<blockquote cite="http://example.org">
	     		<p>
					Trust me, I'm an Engineer.
	     	    </p>
	     	    <p>
	     	    <cite>
	     	      Anon
	     	    </cite>	
	     		</p>
	     	</blockquote>
	     </li>
	     <div class="slide">
	     	
		        <code class="javascript"> 
				<pre>
var technologies = ["js","python","php","java","unix","Obj-C"];

var interests = ["Guitar","Coding","Gaming","RandomExperiments"];
				</pre>
		      	</code>
	  		
	     </div>
	</ul>
</section>

<section class="slide">
	<h2>Overview</h2>
	  <ul>
	     <li class="text" >
	        Setting up openCV and `hello world` 	
	     </li>
	    <li class="text">
	        Some image processing fundamentals. - Histograms / edges and other stuff.
	     </li>
	     <li class="text">
	        A quick look at some OpenCV programs. 	
	     </li>
	     <li class="text">
	        `Work`Shop time : Tracking balls by color	
	     </li>
	     <li class="text">
	        Doing more with openCV
	     </li>
	</ul>
</section>

<!-- INTRODUCTION  -->
<section class="slide">
	<h2>com.opencv.android</h2>
	  <ul>
	     <li class="text">
	        OpenCV, a C/C++ based image processing framework with wrappers in *tons* of languages.
	     </li>
	    <li class="text">
	        You can write C++ algorithms via JNI or stick to the self documented Java Apis.
	     </li>
	     <li class="text">
	        Image processing operations are just a function call away.
	     </li>
	     <li class="text">
	        You include it like any other library after importing it into the android workspace.
	     </li>
	</ul>
</section>

<section class="slide">
	<h2>Image Processing on Android Devices</h2>
	 <h3>a Droid, your webcam and OpenCV all walk into a bar..</h3>
	  <ul>
	     <li class="text">
	        Processing of image files from a <code>java.io.File</code> object.
	     </li>
	 
	    <li class="text">
	        Subclass <code>CvCameraViewListener2</code> and <code>JavaCameraView</code> for procesing the live video preiew feed from camera.
	    </li>
		<li class="text">
	        Use Async Design Patterns  like <code> extends AsyncTask<Void, Void, Boolean></code> so that computation happens on seperate thread to UI thread.
	    </li>
	    <li class="text">
	        Use WebService to perform offline Image Processing.
	    </li>
	</ul>
</section>

<section class="slide">
	<h2>Images, Math and coffee.</h2>
	 <h3>Use open source tools and libraries responsibly.</h3> *much 
	  <ul>
	     <li class="text">
	        Your code see's images as Matrixes of Integers. 
	     </li>
	    <li class="text">
	        an RGB image is read as a 3 * 3D Matrix. <code>[x, y, (r,g,b)]</code>
	    </li>
		<li class="text">
	        Mathematically, Image Processing is studied as a special case of Signal Processing.
	    </li>
	    <li class="text">
	        Luckily, you (almost) never need to dwelve into the intricacies of the mathematics involved. 
	    </li>
	</ul>
</section>

<section class="slide">
	<h2>Adding up Images</h2>
	 <h3>or blending, as the cool kids would call it.</h3> *much 
	  <ul class="nopoint">
	     <li class="text">
	        <code class="clike "><pre>
alpha = 0.4;
beta = ( 1.0 - alpha );
gamma = 0
addWeighted( src1, alpha, src2, beta, gamma, dst);
	        </pre></code>
	     </li>
	    <li class="text">
	        <code>src1 & src2</code> are two matrixes. <code>alpha & beta</code> are weights ( relative transparency). <code>gamma</code> is scalar deviation.
	    </li>
		<li class="text">
	        <pre>dst = (alpha * src1) + (beta * src2) + gamma</pre>
	    </li>
	    
	</ul>
</section>

<section class="slide">
	<h2>Here</h2>
	<h3>what do you get when you ask a cyclone a riddle?</h3>
	<div class="polaroid">
		<img src="img/blend.png" alt="">
		<p>BrainStorms</p>
	</div>
</section>

<!-- COLORs and Image format conversion  -->
<section class="slide">
	<h2>Color Spaces</h2>
	 <h3>How do you explain the red to a blind person?</h3> #FF0000
	  <ul>
	     <li class="text">
	        <code>RGB</code> is the most used color format for displaying things on Screens. <code>CMYK</code> is used by printers.
	     </li>
	    <li class="text">
	        Your code would prefer to see your images in <code>HSV</code>. [Hue/<code>Color</code>, Saturation/<code>Greyness</code>, Value/<code>Brightness</code>]
	    </li>
		<li class="text">
	        These are not "<code>standards</code>".. with proprietary tools your mileage may vary.s
	    </li>
	    <li class="text">
	        Binary Format [1,0] is the best way to deal with images.
	    </li>
	</ul>
</section>

<section class="slide">
	<h2>HSV</h2>
	<h3>What is 350 + 100?</h3> - wikipedia
	<div class="polaroid">
		<img src="img/hsv.png" alt="">
		<p>90 Degrees</p>
	</div>
</section>

<!-- Histogram Reading  -->

<section class="slide">
	<h2>Histograms</h2>
	<h3>Allowing us to visualise images since 1895.</h3> 
	<div class="polaroid">
		<img src="img/histogram_whitish.png" alt="">
		<p>That is actually a close up of a wall.</p>
	</div>
	<input type="text" id="css_col">
</section>

<section class="slide">
	<h2>For instance,</h2>
	<div class="polaroid">
		<img src="img/histogram_black.png" alt="">
		<p>blinding darkness == 0x000000.</p>
	</div>
	<input type="text" id="css_col">
</section>

<section class="slide">
	<h2>this image has a higher illumination</h2>
	<div class="polaroid">
		<img src="img/light_blue.png" alt="">
		<p>blues</p>
	</div>
</section>

<section class="slide">
	<h2>than this one.</h2>
	<div class="polaroid">
		<img src="img/dark_blue.png" alt="">
		<p>#TODO: Add autofocusing code... eventually</p>
	</div>
</section>

<!-- Detecting Circles  -->


<section class="slide">
	<h2>Posterization a.k.a Mean Shift Filtering</h2>
	<div class="polaroid">
		<img src="img/circle_edge.png" alt="">
		<p>Also available from photoshop 5 </p>
	</div>
</section>


<section class="slide">
	<h2>Canny-Ramen-Edge Detection</h2>
	<div class="polaroid">
		<img src="img/circle_edge_canny.png" alt="">
		<p>As a side effect of a canny edge detector, everything is now either black or white..</p>
	</div>
</section>

<section class="slide">
	<h2>Hough Transform</h2>
	 <h3>So i give this function an image, and it basically returns an array of (c,r) objects..</h3> 
	  <div class="polaroid">
		<img src="img/cirle_hough_2.png" alt="">
		<p>one function call.</p>
	</div>
</section>

<section class="slide">
	<h2>A nicely thought out algorithm</h2>
	 <h3>If math is your thing that is..</h3> 
	  <div class="polaroid">
	  	<embed src="lec782_05_10.pdf" width="1050px" alt="pdf" pluginspage="http://www.adobe.com/products/acrobat/readstep2.html" mytubeprocessed="Y">
	 </div>
</section>

<section class="slide">
	<h2>A Watch</h2>
	  <div class="polaroid">
		<img src="img/watch_hough.png" alt="">
		<p>It's gets it *mostly* right..</p>
	</div>
</section>

<section class="slide">
	<h2>Programming in OpenCV</h2>
	 <h3>Tools required.</h3> 
	  <ul>
	     <li class="text">
    	 Android SDK + NDK
    	 </li>
	     <li class="text">
	     OpenCV SDK 
	     </li>
	     <li class="text">
	     OpenCV Samples 
	     </li>
	     <li class="text">
		 OpenCV manager on your device
	     </li>
	</ul>
</section>

<section class="slide">
	<h2>Setting up a dev environment</h2>
	 <h3>Hopefully you should have googled this before coming..</h3> 
	  <ul>
	     <li class="text">
    	 	unzip the OpenCV-2.4.6-android-sdk folder.
    	 </li>
	     <li class="text">
	     	open up eclipse and import this folder in a new workspace.
	     </li>
	     <li class="text">
	        The first time, there might be some issues. see if the correct version of android is specified in build settings. java build paths must be correct, your <code>NDK and SDK</code> must be set up correctly.
	     </li>
	     <li class="text">
		 	your mileage will vary depending on os platform and java version.
	     </li>
	     <li class="text">
		 	to those who are having red issues. be of good cheer, all issues are resolvable through google.
	     </li>
	</ul>
</section>

<section class="slide">
	<h2>the openCV samples</h2>
	 <h3>underestimate not the importance of these sample apps.</h3> 
	  <ul>
	     <li class="text">
    	 	Tut 1 & 2 : Showing how to load a live preview stream from the camera from the android camera interface as well as opencv's camera interface.
    	 </li>
	     <li class="text">
	     	Tut 3 : Control what resolution you get images from your camera on the preview stream.
	     </li>
	     <li class="text">
	     	Face Detection : Shows using a Haar Classifier to recognize faces in an image.
	     </li>
	     <li class="text">
	     	color blob detection :  scanning an image for similar color regions.
	     </li>
	</ul>
</section>

<section class="slide">
	<h2>Now, what?</h2>
	 <h3>The problem statement.</h3> 
	  <ul>
	     <li class="text">
    	 	Phase 1 : detecting cirles in an image.
    	 </li>
	     <li class="text">
	     	Phase 2 : detecting only "RED" colored circular shapes.
	     </li>
	     <li class="text">
	     	Phase 3 : Once a ball is detected. track it's movements until it goes out of the screen.
	     </li>
	</ul>
</section>

<section class="slide">
	<h2>Detecting circles</h2>
	 <h3>round things.. that uhh.. are smooth?</h3> 
	  <ul>
	     <li class="text">
    	 	see, 3.12 (page 236) of the opencv_tutorials.pdf in the docs folder of the opencv sdk.
    	 </li>
	     <li class="text">
	     	the standard C openCV code + explanation for the circle detector is given there.
	     </li>
	     <li class="text">
	     	your mission, should you choose to accept it is to simply port that code into working on an android device.
	     </li>
	     <li>
	     	hint:  cvtColor(...) becomes Imgproc.cvtColor(...)
	     </li>
	</ul>
</section>

<section class="slide">
	<h2>Detecting Red colored Regions</h2>
	 <h3>the "R" in RGB</h3> 
	  <ul>
	     <li class="text">
	     Remember to always process the image in HSV format. 
		 </li>
	     <li class="text">
			openCV has a function called Core.inRange(distance,<span title="min" id="min">new Scalar(0.0)</span>, <span title="max" id="max">new Scalar(200.0)</span>, <span title="output" id="ouput">thresholded_ouput</span>)
	     </li>	
	     <li class="text">
	     <a href="http://www.aishack.in/2010/07/tracking-colored-objects-in-opencv/">you can read this</a>  only <a href="http://cell0907.blogspot.in/2013/07/tracking-ball-with-javaopencv.html">if</a><a href="http://wiki.elphel.com/index.php?title=OpenCV_Tennis_balls_recognizing_tutorial"> you want a hint</a>.
	     </li>
	</ul>
</section>

<!-- End slides. -->
<!-- 
<section class="slide">
	<h2></h2>
	 <h3></h3> 
	  <ul>
	     <li class="slide text">
    	     </li>
	     <li class="slide text">
	     </li>
	     <li class="slide text">
	     </li>
	</ul>
</section>
 -->
<!-- Begin extension snippets. Add or remove as needed. -->

<!-- deck.navigation snippet -->
<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
<a href="#" class="deck-next-link" title="Next">&#8594;</a>

<!-- deck.status snippet -->
<p class="deck-status">
	<span class="deck-status-current"></span>
	/
	<span class="deck-status-total"></span>
</p>

<!-- deck.goto snippet -->
<form action="." method="get" class="goto-form">
	<label for="goto-slide">Go to slide:</label>
	<input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
	<datalist id="goto-datalist"></datalist>
	<input type="submit" value="Go">
</form>

<!-- deck.hash snippet -->
<a href="." title="Permalink to this slide" class="deck-permalink">#</a>

<!-- End extension snippets. -->


<!-- Required JS files. -->
<script src="jquery-1.7.2.min.js"></script>
<script src="core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="core/deck.core.js"></script>
<script src="extensions/hash/deck.hash.js"></script>
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<script src="extensions/navigation/deck.navigation.js"></script>
<script src="extensions/scale/deck.scale.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
	$(function() {
		$.deck('.slide');
	});
	$("pre").each(function (i, e) {
	    hljs.highlightBlock(e);
	});
	$('#css_col').live('change',function  () {
		$(this).css('background','#'+$(this).val());
	});
</script>
</body>
</html>
